(this.webpackJsonpworkbenchclient=this.webpackJsonpworkbenchclient||[]).push([[0],{458:function(e,t,r){"use strict";(function(e){var n=r(0);t.a=function(t,r,a){var s=Object(n.useRef)(t),o=Object(n.useRef)(r),c=Object(n.useRef)(a);Object(n.useEffect)((function(){s.current=t}),[t]),Object(n.useEffect)((function(){o.current=r}),[r]),Object(n.useEffect)((function(){c.current=a}),[a]),Object(n.useEffect)((function(){var t;if(null!==o.current)return t=e.setTimeout((function r(){if(c.current==a){var n=s.current();if(n instanceof Promise)n.then((function(){c.current==a&&null!==o.current&&(t=e.setTimeout(r,o.current))}));else{if(c.current!=a)return;null!==o.current&&(t=e.setTimeout(r,o.current))}}}),o.current),function(){return t&&clearTimeout(t)}}),[r])}}).call(this,r(41))},54:function(e,t,r){var n=r(144),a=n.DescribeConfigResponse,s=(n.ITopicMetadata,n.SeekEntry),o=n.KafkaMessage,c=r(443),i=c.Schema,u=c.Type,l={error:String},h={high:String,low:String},p={metadata:null|String,partitionOffsets:h},f={groupId:String,offsets:p},d={topic:String,partition:Number,value:String,key:String,message:o,schemaType:void 0|u},b={messages:Array,hasTimeout:Boolean},m={nodeId:Number,host:String,port:Number},j={topics:Array},g={offsets:h},v=a,x=a,O=f,k={offsets:h,config:a,groups:f},y={brokers:Array,controller:null|Number,clusterId:String},w=s,C=b,S=String,F=Number,T={schema:i,id:Number},N={[{key:String}]:String},A=String,D={name:String,connector:{state:0,worker_id:String},tasks:{state:0,id:Number,worker_id:String},type:String},I=N,R={id:{connector:String,task:Number},config:{[{key:String}]:String}},G={state:0,id:Number,worker_id:String};e.exports={MaybeError:l,TopicOffsets:h,ConsumerOffsets:p,TopicConsumerGroups:f,TopicMessage:d,TopicMessages:b,Broker:m,GetTopicsResult:j,GetTopicOffsetsResult:g,GetTopicConfigsResult:v,GetBrokerConfigsResult:x,GetTopicConsumerGroupsResult:O,GetTopicResult:k,GetClusterResult:y,GetTopicOffsetsByTimestapResult:w,GetTopicMessagesResult:C,GetSubjectsResult:S,GetSubjectVersionsResult:F,GetSchemaResult:T,ConnectorState:0,ConnectorConfig:N,GetConnectorsResult:A,GetConnectorStatusResult:D,GetConnectorConfigResult:I,GetConnectorTasksResult:R,GetConnectorTaskStatusResult:G}},604:function(e,t,r){},631:function(e,t){},633:function(e,t){},815:function(e,t){},817:function(e,t){},845:function(e,t){},847:function(e,t){},848:function(e,t){},85:function(e,t){t.SearchStyle=0,t.Includes=function(e,t,r){switch(r){case"case-sensitive":return e.includes(t);case"regex":try{return new RegExp(t).test(e)}catch(n){return!1}default:return e.toLowerCase().includes(t.toLowerCase())}}},853:function(e,t){},855:function(e,t){},874:function(e,t){},886:function(e,t){},889:function(e,t){},955:function(e,t,r){},957:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(30),o=r.n(s),c=r(29),i=r(44),u=r(37),l=r(21),h=r(2),p=r.n(h),f=r(10),d=r(1015),b=r(169),m=r(1007),j=r(1008),g=r(1009),v=r(114),x=r(466),O=r(1005),k=r(24),y=r(7),w=r(450),C=r.n(w),S=r(1031),F=r(462),T=r(230),N=r.n(T),A=r(1013),D=r(452),I=r.n(D),R=r(1012),G=r(1011),M=r(1010),P=r(1001),E=r(461),U=r(1002),L=r(1003),B=r(1),_=a.a.createContext(null),W=function(e){var t=e.children,r=e.theme,s=window.localStorage.getItem("theme"),o=Object(P.a)("(prefers-color-scheme: dark)");s||(s=o?"dark":"light");var i=Object(n.useState)(r||s),u=Object(c.a)(i,2),l=u[0],h=u[1],p={type:"light"};"dark"===l&&(p={type:"dark",primary:{main:"#90caf9"},secondary:{main:"#f48fb1"}});var f=a.a.useMemo((function(){return Object(E.a)({palette:p})}),[l]);return Object(B.jsx)(_.Provider,{value:{theme:l,saveTheme:function(e){h(e),window.localStorage.setItem("theme",e)}},children:Object(B.jsxs)(U.a,{theme:f,children:[Object(B.jsx)(L.a,{}),t]})})},V=function(){return Object(n.useContext)(_)},z=r(1006),H=r(1030),K=r(448),J=r.n(K),Y=r(449),$=r.n(Y),q=r(228),X=r.n(q),Z=r(231),Q=r(16),ee=r(8),te=r(9),re=r(229),ne=r.n(re),ae=function(){function e(t,r){Object(ee.a)(this,e),this.obj="",this.BaseUrl="",this.subscribers=[],t.startsWith("?")&&(t=t.substring(1)),this.obj=ne.a.parse(t),this.BaseUrl=r}return Object(te.a)(e,[{key:"Get",value:function(e){var t;return(null===(t=this.obj[e])||void 0===t?void 0:t.toString())||void 0}},{key:"Set",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,a=t;n<a.length;n++){var s=a[n];s.val?this.obj[s.name]=s.val:delete this.obj[s.name]}this.Refresh()}},{key:"Subscribe",value:function(e){this.subscribers.push(e)}},{key:"Unsubscribe",value:function(e){var t=this.subscribers.indexOf(e);t>-1&&this.subscribers.splice(t,1)}},{key:"Refresh",value:function(){var e=ne.a.stringify(this.obj),t=e?"".concat(this.BaseUrl,"?").concat(e):this.BaseUrl;window.history.replaceState(null,document.title,t||"?");var r,n=Object(Q.a)(this.subscribers);try{for(n.s();!(r=n.n()).done;){(0,r.value)(t)}}catch(a){n.e(a)}finally{n.f()}}}]),e}(),se=r(85),oe=Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,display:"none",[e.breakpoints.up("sm")]:{display:"block"}},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(k.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(k.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("sm")]:{width:"12ch","&:focus":{width:"20ch"}}}}})),ce=function(e){var t=V(),r=t.theme,n=t.saveTheme,a="dark"===r?"black":"white";return Object(B.jsxs)(H.a,{value:r,exclusive:!0,onChange:function(t,r){null!==r&&(n(r),e.OnThemeChanged&&e.OnThemeChanged(r))},"aria-label":"theme selector",children:[Object(B.jsx)(z.a,{value:"light","aria-label":"light theme",children:Object(B.jsx)(J.a,{htmlColor:a})}),Object(B.jsx)(z.a,{value:"dark","aria-label":"dark theme",children:Object(B.jsx)($.a,{htmlColor:a})})]})},ie=Object(y.a)((function(e){return{grouped:{margin:e.spacing(0),border:"none",borderRadius:e.shape.borderRadius}}}))(H.a),ue=Object(O.a)((function(e){return{root:function(e){return{"&$selected":{backgroundColor:e.selectColor},"&:hover":{backgroundColor:"".concat(e.hoverColor," !important")}}},selected:function(e){e.selectColor,e.hoverColor;return{}}}}));function le(e){var t=e.selectColor,r=e.hoverColor,n=Object(b.a)(e,["selectColor","hoverColor"]),a=ue({selectColor:t,hoverColor:r});return Object(B.jsx)(z.a,Object(l.a)({classes:a},n))}var he=function(e){var t=oe(),r=a.a.useState(!1),n=Object(c.a)(r,2),s=n[0],o=n[1],i=a.a.useState(e.url.Get("search_style")||""),u=Object(c.a)(i,2),l=u[0],h=u[1],p=a.a.useState(e.url.Get("search")||""),f=Object(c.a)(p,2),d=f[0],b=f[1],O=V(),k=O.theme,y=(O._,"dark"===k?"dimgray":"silver"),w="dark"===k?"rgb(106, 186, 251)":"rgb(64,82,181)",T="dark"===k?"rgb(131, 197, 251)":"rgb(82, 97, 183)",D=Boolean(s);return Object(B.jsx)("div",{className:t.root,children:Object(B.jsx)(m.a,{position:"sticky",children:Object(B.jsxs)(j.a,{children:[Object(B.jsx)(g.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(e){console.log("---------------debug toolbar line 166-----"),o(e.currentTarget)},children:Object(B.jsx)(C.a,{})}),Object(B.jsxs)(F.a,{id:"menu-appbar",anchorEl:s,keepMounted:!0,transformOrigin:{vertical:"bottom",horizontal:"left"},open:D,onClose:function(){o(null)},children:[Object(B.jsx)(M.a,{href:"/",color:"inherit",children:Object(B.jsx)(S.a,{children:"Portfolio"})}),Object(B.jsx)(M.a,{href:"/brokers",color:"inherit",children:Object(B.jsx)(S.a,{children:"Kafka (brokers)"})}),Object(B.jsx)(M.a,{href:"/groups",color:"inherit",children:Object(B.jsx)(S.a,{children:"Kafka (groups)"})}),Object(B.jsx)(M.a,{href:"/schema-registry/subjects",color:"inherit",children:Object(B.jsx)(S.a,{children:"Schema-Registry (subjects)"})}),Object(B.jsx)(M.a,{href:"/kafka-connect/connectors",color:"inherit",children:Object(B.jsx)(S.a,{children:"Kafka-Connect (connectors)"})}),Object(B.jsx)(G.a,{}),Object(B.jsx)(M.a,{href:"/topics/messages",color:"inherit",children:Object(B.jsxs)(S.a,{children:[Object(B.jsx)(N.a,{})," Search across topics"]})})]}),Object(B.jsx)(v.a,{className:t.title,variant:"h6",noWrap:!0,children:Object(B.jsx)(M.a,{href:"/",color:"inherit",children:"MSS International"})}),Object(B.jsx)(v.a,{className:t.title,variant:"h6",noWrap:!0,children:e.title}),Object(B.jsx)(ce,{OnThemeChanged:e.OnThemeChanged}),!e.hideSearch&&Object(B.jsxs)("div",{className:t.search,children:[Object(B.jsx)("div",{className:t.searchIcon,children:Object(B.jsx)(N.a,{})}),Object(B.jsx)(x.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},value:d,endAdornment:Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(R.a,{position:"end",children:Object(B.jsxs)(ie,{size:"small",value:l,exclusive:!0,onChange:function(t,r){h(r),e.url.Set({name:"search_style",val:r})},"aria-label":"search options",children:[Object(B.jsx)(le,{selectColor:w,hoverColor:T,"aria-label":"Match Case",value:"case-sensitive",children:Object(B.jsx)(A.a,{title:"Match Case",children:Object(B.jsx)(X.a,{path:Z.a,size:1,color:y})})}),Object(B.jsx)(le,{selectColor:w,hoverColor:T,"aria-label":"Use Regular Expression",value:"regex",children:Object(B.jsx)(A.a,{title:"Use Regular Expression",children:Object(B.jsx)(X.a,{path:Z.b,size:1,color:y})})})]})})}),onChange:function(t){e.url.Set({name:"search",val:t.target.value}),b(t.target.value)}})]}),Object(B.jsx)(A.a,{title:"Source Code","aria-label":"source code",children:Object(B.jsx)(g.a,{color:"inherit",target:"_blank",href:"https://github.com/pdhoward",children:Object(B.jsx)(I.a,{})})})]})})})},pe=r(453);r(53),r(495),r(496),r(497);function fe(e){function t(){return{pattern:e.Get("search")||"",style:e.Get("search_style")||""}}var r=Object(n.useState)(t()),a=Object(c.a)(r,2),s=a[0],o=a[1];return Object(n.useEffect)((function(){function r(e){o(t())}return e.Subscribe(r),function(){e.Unsubscribe(r)}})),s}var de=function(e){var t=fe(e.url),r=e.rows;t.pattern&&(r=r.filter((function(r){return Object(se.Includes)(e.search(r),t.pattern,t.style)})));var n=V(),a=n.theme,s=(n._,"dark"===a?"ag-theme-alpine-dark":"ag-theme-alpine");return Object(B.jsx)("div",{className:s,children:Object(B.jsx)(pe.AgGridReact,{columnDefs:e.columnDefs,rowData:r,domLayout:"autoHeight",defaultColDef:{sortable:!0,filter:!0,resizable:!0},onGridReady:e.onGridReady,onFilterChanged:e.onFilterChanged,enableCellTextSelection:!0,pagination:!0,columnTypes:{connectorState:{cellStyle:function(e){switch(e.value){case"RUNNING":return{color:"dark"===a?"lightgreen":"darkgreen"};case"FAILED":return{color:"dark"===a?"lightcoral":"red"};case"PAUSED":return{color:"dark"===a?"orange":"darkorange"};default:return{}}}}}})})},be=r(1025),me=r(1014),je=r(1024),ge=r(454),ve=r.n(ge),xe=function(e){var t=fe(e.url),r=e.raw;t.pattern&&(r=Oe(e.raw,t));var n=V(),a=n.theme,s=(n._,"dark"===a?"twilight":void 0);return Object(B.jsx)(ve.a,{src:r,theme:s,style:{padding:10,border:"solid gray 1px"}})},Oe=function(e,t){return e?Array.isArray(e)?ke(e,t):"object"===typeof e?ye(e,t):Object(se.Includes)(e.toString(),t.pattern,t.style)?e:void 0:e},ke=function(e,t){var r,n=[],a=Object(Q.a)(e);try{for(a.s();!(r=a.n()).done;){var s=r.value,o=Oe(s,t);we(o)||n.push(o)}}catch(c){a.e(c)}finally{a.f()}return n},ye=function(e,t){var r={};for(var n in e)if(Object(se.Includes)(n,t.pattern,t.style))r[n]=e[n];else{var a=Oe(e[n],t);we(a)||(r[n]=a)}return r},we=function(e){return!e||"object"===typeof e&&0===Object.keys(e).length};function Ce(e){var t=e.children,r=e.value,n=e.index,a=Object(b.a)(e,["children","value","index"]);return Object(B.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:r!==n,id:"tabpanel-".concat(n),"aria-labelledby":"tab-".concat(n)},a),{},{children:r===n&&Object(B.jsx)(je.a,{p:3,children:Object(B.jsx)(v.a,{component:"span",children:t})})}))}var Se=function(e){var t="true"===e.url.Get("raw")?1:0,r=Object(n.useState)(t),a=Object(c.a)(r,2),s=a[0],o=a[1];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(be.a,{value:s,onChange:function(t,r){o(r),e.url.Set({name:"raw",val:1===r?"true":""})},"aria-label":"raw or grid mode selection",indicatorColor:"secondary",textColor:"secondary",children:[Object(B.jsx)(me.a,{label:"Grid"}),Object(B.jsx)(me.a,{label:"Raw"})]}),Object(B.jsx)(Ce,{value:s,index:0,children:Object(B.jsx)(de,Object(l.a)({},e))}),Object(B.jsx)(Ce,{value:s,index:1,children:Object(B.jsx)(xe,Object(l.a)({},e))})]})},Fe=r(963),Te=r(166),Ne=r.n(Te),Ae=(r(455),r(1026)),De=function(e){if(!e.error)return null;var t=e.error;return"object"===typeof t&&(t=JSON.stringify(t)),t="".concat(e.prefix).concat(t),Object(B.jsx)(Ae.a,{severity:"error",children:t})},Ie=function(){function e(){Object(ee.a)(this,e),this.cancelToken=null}return Object(te.a)(e,[{key:"Load",value:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cancelToken=new t,e.prev=1,e.next=4,this.cancelToken;case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),"AbortError"!==e.t0.name){e.next=10;break}return e.abrupt("return");case 10:throw e.t0;case 11:return e.prev=11,this.cancelToken=null,e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,6,11,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"Abort",value:function(){this.cancelToken.abortController.abort()}}]),e}(),Re=function(){function e(){Object(ee.a)(this,e),this.abortController=new AbortController}return Object(te.a)(e,[{key:"Signal",get:function(){return this.abortController.signal}},{key:"Aborted",get:function(){return this.abortController.signal.aborted}},{key:"Fetch",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{signal:this.Signal});case 3:if(r=e.sent,!this.Aborted){e.next=6;break}return e.abrupt("return",null);case 6:return e.prev=6,e.next=9,r.text();case 9:if(n=e.sent,e.prev=10,(a=JSON.parse(n)).error||!(r.status>=400)){e.next=14;break}return e.abrupt("return",{error:"fetch from ".concat(t," returned status code ").concat(r.status,", response: ").concat(n)});case 14:return e.abrupt("return",a);case 17:if(e.prev=17,e.t0=e.catch(10),!this.Aborted){e.next=21;break}return e.abrupt("return",null);case 21:return console.warn("unable to parse response json:",e.t0),e.abrupt("return",{error:"fetch from ".concat(t," returned status code ").concat(r.status,", text: ").concat(n)});case 23:e.next=31;break;case 25:if(e.prev=25,e.t1=e.catch(6),!this.Aborted){e.next=29;break}return e.abrupt("return",null);case 29:return console.warn("unable to parse response text:",e.t1),e.abrupt("return",{error:"fetch from ".concat(t," returned status code ").concat(r.status)});case 31:e.next=38;break;case 33:if(e.prev=33,e.t2=e.catch(0),!this.Aborted){e.next=37;break}return e.abrupt("return",null);case 37:return e.abrupt("return",{error:"fetch from ".concat(t," errored: ").concat(e.t2)});case 38:case"end":return e.stop()}}),e,this,[[0,33],[6,25],[10,17]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ge=Object(n.createContext)({topic:null,gridUpdate:function(){}}),Me=function(e){var t=Object(n.useState)(null),r=Object(c.a)(t,2),a=(r[0],r[1]),s=Object(n.useState)(null),o=Object(c.a)(s,2),i=(o[0],o[1]),h=Object(n.useState)(!0),b=Object(c.a)(h,2),m=b[0],j=b[1],g=Object(n.useState)([]),v=Object(c.a)(g,2),x=v[0],O=v[1],k=Object(n.useState)(""),y=Object(c.a)(k,2),w=y[0],C=y[1],S=Object(n.useState)(""),F=Object(c.a)(S,2),T=F[0],N=F[1],A=Object(n.useContext)(Ge).gridUpdate,D=Object(u.e)(),I=new ae(D.search,""),R=new Ie;Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Load(G);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var G=function(){var t=Object(f.a)(p.a.mark((function t(){var r,n,a,s,o=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:new Re,n="",n="localhost"==window.location.hostname?"http://".concat("localhost:9999","/api/portfolios"):"https://mssworkbench.onrender.com/api/portfolios",console.log("-----portfolio line 62-----"),console.log(n),t.next=7,r.Fetch(n);case 7:if(a=t.sent,!r.Aborted){t.next=10;break}return t.abrupt("return");case 10:if(!a.error){t.next=15;break}return j(!1),C(a.error),N("Failed to fetch portfolios. Error: "),t.abrupt("return");case 15:s=a.portfolios.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{raw:t,history:e.history})})),j(!1),O(s);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(e){var t=e.valueFormatted?e.valueFormatted:e.value;return A({newTopic:t}),"<a href='"+"/topic/".concat(t)+"' target='_blank'>"+t+"</a>"},P=function(e){var t=e.valueFormatted?e.valueFormatted:e.value,r=("string"==typeof t?t.split(","):["undefined"]).map((function(e){var t=e.trim();return'<a href="/schema/'.concat(t,'">').concat(e,"</a>")}));return console.log(r),"<div>\n                ".concat(r.map((function(e){return e})),"                \n            </div>")};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Portfolio",url:I}),m&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:w,prefix:T}),!m&&Object(B.jsx)(Se,{search:function(e){return e.topic},rows:x,raw:x.map((function(e){return Object(l.a)({},e.raw)})),url:I,columnDefs:[{headerName:"Topic",field:"topic",cellRenderer:M},{headerName:"Geo",field:"geography",filter:"agTextColumnFilter"},{headerName:"Division",field:"division",filter:"agTextColumnFilter"},{headerName:"Business Process",field:"business_process",filter:"agTextColumnFilter"},{headerName:"Sub Process",field:"sub_process",filter:"agTextColumnFilter"},{headerName:"Topic Descr.",field:"topic_description",filter:"agTextColumnFilter"},{headerName:"Source Schemas",field:"source_schemas",filter:"agTextColumnFilter",cellRenderer:P},{headerName:"Target Schemas",field:"target_schemas",filter:"agTextColumnFilter",cellRenderer:P}],onGridReady:function(e){a(e.api),i(e.columnApi),e.api.sizeColumnsToFit()}})]})},Pe=r(463),Ee=(r(604),function(){return Math.round(20*Math.random()-10)}),Ue=function(){return{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"Scale",data:[Ee(),Ee(),Ee(),Ee(),Ee(),Ee()],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}},Le={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},Be=function(e){var t,r=Object(n.useState)(Ue()),a=Object(c.a)(r,2),s=a[0],o=a[1],i=(Object(n.useContext)(Ge).gridTopic,Object(u.e)()),l=(t=i.pathname).substring(t.lastIndexOf("/")+1);return Object(n.useEffect)((function(){var e=setInterval((function(){return o(Ue())}),5e3);return function(){return clearInterval(e)}}),[]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("div",{className:"header",children:[Object(B.jsx)("h1",{className:"title",children:l}),Object(B.jsx)("div",{className:"links",children:Object(B.jsx)("a",{className:"btn btn-gh",href:"https://github.com/pdhoward",children:"Github Source"})})]}),Object(B.jsx)(Pe.a,{data:s,options:Le})]})},_e=function(e){var t=Object(n.useState)(null),r=Object(c.a)(t,2),a=(r[0],r[1]),s=Object(n.useState)(null),o=Object(c.a)(s,2),i=(o[0],o[1]),h=Object(n.useState)(!0),b=Object(c.a)(h,2),m=b[0],j=b[1],g=Object(n.useState)([]),v=Object(c.a)(g,2),x=v[0],O=v[1],k=Object(n.useState)(""),y=Object(c.a)(k,2),w=y[0],C=y[1],S=Object(n.useState)(""),F=Object(c.a)(S,2),T=F[0],N=F[1],A=Object(u.e)(),D=(Object(n.useContext)(Ge).gridUpdate,function(e){return e.substring(e.lastIndexOf("/")+1)}),I=new ae(A.search,""),R=new Ie;Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Load(G);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var G=function(){var t=Object(f.a)(p.a.mark((function t(){var r,n,a,s,o,c,i=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:new Re,n=D(A.pathname),a=n.trim(),s="",s="localhost"==window.location.hostname?"http://".concat("localhost:9999","/api/schemas/",a):"https://mssworkbench.onrender.com/api/schemas/".concat(a),t.next=7,r.Fetch(s);case 7:if(o=t.sent,console.log(o),!r.Aborted){t.next=11;break}return t.abrupt("return");case 11:if(!o.error){t.next=16;break}return j(!1),C(o.error),N("Failed to fetch schemas. Error: "),t.abrupt("return");case 16:c=o.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{raw:t,history:e.history})})),j(!1),O(c);case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Portfolio",url:I}),m&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:w,prefix:T}),!m&&Object(B.jsx)(Se,{search:function(e){return e.topic},rows:x,raw:x.map((function(e){return Object(l.a)({},e.raw)})),url:I,columnDefs:[{headerName:"Title",field:"title"},{headerName:"Description",field:"description",filter:"agTextColumnFilter"},{headerName:"Version",field:"$schema",filter:"agTextColumnFilter"}],onGridReady:function(e){a(e.api),i(e.columnApi),e.api.sizeColumnsToFit()}})]})},We=r(18),Ve=r(17),ze=function(e){var t="Loading";return(e.value||0===e.value)&&(t=e.value.toString()),Object(B.jsx)("div",{style:{width:"100%",justifyContent:"left",textAlign:"left",marginTop:-3},children:Object(B.jsxs)(Fe.a,{color:"primary",size:"small",style:{justifyContent:"left",textAlign:"left"},onClick:function(){e.data.history.push(e.getUrl())},children:[Object(B.jsx)(Ne.a,{}),t]})})},He=(r(54),function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,[{key:"render",value:function(){var e=this;return Object(B.jsx)(ze,Object(l.a)({getUrl:function(){return"/topic/messages/".concat(e.props.data.topic,"/").concat(e.props.data.partition)}},this.props))}}]),e}()),Ke=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,rows:[],error:""},n.loader=new Ie,n.fetchPartitions=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/topic/".concat(n.props.match.params.topic));case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error}),e.abrupt("return");case 8:a=r.offsets.map((function(e){return{partition:e.partition,offset:e.offset,low:e.low,high:e.high,topic:n.props.match.params.topic,raw:e,history:n.props.history}})),n.setState({loading:!1,rows:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchPartitions);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"getColumnDefs",value:function(){return[{headerName:"Partition",field:"partition",filter:"agNumberColumnFilter"},{headerName:"Offset",field:"offset",filter:"agNumberColumnFilter"},{headerName:"Low",field:"low",filter:"agNumberColumnFilter"},{headerName:"#Messages (High)",field:"high",filter:"agNumberColumnFilter",cellRendererFramework:He}]}},{key:"render",value:function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Partitions for topic: ".concat(this.props.match.params.topic),url:this.url,hideSearch:!0}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch partitions. Error: "}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return""},rows:this.state.rows,raw:this.state.rows.map((function(e){return Object(l.a)({topic:e.topic},e.raw)})),url:this.url,columnDefs:this.getColumnDefs()})]})}}]),r}(a.a.Component),Je=r(36),Ye=r(1027),$e=r(1033),qe=r(1020),Xe=r(1032),Ze=r(1022),Qe=r(1021),et=r(1016),tt=r(459),rt=r.n(tt),nt=r(460),at=r.n(nt),st=r(1017),ot=r(960),ct=r(959),it=r(962),ut=r(1035),lt=r(458),ht=["Off","5s","10s","1m","5m","15m","30m","1h","2h","1d"],pt=[0,5e3,1e4,6e4,3e5,9e5,18e5,36e5,72e5,864e5],ft=function(e){var t=a.a.useState(!1),r=Object(c.a)(t,2),n=r[0],s=r[1],o=a.a.useRef<HTMLDivElement>null,i=a.a.useState({selectedIndex:0,refreshId:-1}),u=Object(c.a)(i,2),h=u[0],p=u[1];Object(lt.a)(e.onRun,h.selectedIndex>0?pt[h.selectedIndex]:null,h.refreshId);var f=function(e){o.current&&o.current.contains(e.target)||s(!1)};return Object(B.jsxs)("div",{children:[Object(B.jsxs)(et.a,{variant:"contained",color:e.isRunning?"secondary":"primary",ref:o,"aria-label":"go button",style:{marginTop:18},children:[Object(B.jsx)(Fe.a,{onClick:function(){return e.isRunning?e.onCancel():e.onRun()},startIcon:e.isRunning?Object(B.jsx)(d.a,{size:18}):Object(B.jsx)(rt.a,{}),children:e.isRunning?Object(B.jsx)(B.Fragment,{children:"CANCEL"}):Object(B.jsx)(B.Fragment,{children:"GO"})}),Object(B.jsxs)(Fe.a,{size:"small","aria-controls":n?"split-button-menu":void 0,"aria-expanded":n?"true":void 0,"aria-label":"select refresh frequency","aria-haspopup":"menu",onClick:function(){s((function(e){return!e}))},style:{textTransform:"none"},children:[0!==h.selectedIndex&&Object(B.jsx)(v.a,{children:ht[h.selectedIndex]}),Object(B.jsx)(at.a,{})]})]}),Object(B.jsx)(it.a,{open:n,anchorEl:o.current,role:void 0,transition:!0,style:{zIndex:1},children:function(e){var t=e.TransitionProps,r=e.placement;return Object(B.jsx)(ot.a,Object(l.a)(Object(l.a)({},t),{},{style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(B.jsx)(ct.a,{children:Object(B.jsx)(st.a,{onClickAway:f,children:Object(B.jsx)(ut.a,{id:"split-button-menu",children:ht.map((function(e,t){return Object(B.jsx)(S.a,{selected:t===h.selectedIndex,onClick:function(e){return function(e,t){p({selectedIndex:t,refreshId:h.refreshId+1}),s(!1)}(0,t)},children:e},e)}))})})})}))}})]})},dt="all",bt=function(e){return Object(B.jsx)(Xe.a,{label:e.label,type:"number",value:e.value,onChange:e.onChange,onKeyDown:function(t){"Enter"===t.key&&e.onEnter()},margin:"normal",inputProps:{min:"0",step:"1"},style:{marginRight:10,maxWidth:100},error:""===e.value,helperText:""===e.value?"Cannot be empty":""})},mt=function(e){return Object(B.jsx)(Xe.a,{label:e.label,type:"datetime-local",value:e.value,onChange:e.onChange,onKeyDown:function(t){"Enter"===t.key&&e.onEnter()},margin:"normal",style:{marginRight:10,maxWidth:300},InputLabelProps:{shrink:!0}})},jt=function(){function e(){var t,r,n,a,s,o=this;Object(ee.a)(this,e),this.state={search:"",searchStyle:"",offset:null!==(t=this.props.offset)&&void 0!==t?t:0,limit:null!==(r=this.props.limit)&&void 0!==r?r:5,fromTime:null!==(n=this.props.fromTime)&&void 0!==n?n:"",toTime:null!==(a=this.props.toTime)&&void 0!==a?a:"",searchBy:null!==(s=this.props.searchBy)&&void 0!==s?s:"offset",progress:{min:0,max:0,from:0,to:0,partition:"",topic:""}},this.loader=new Ie,this.setStateAsync=function(e){return new Promise((function(t){return o.setState(e,t)}))},this.fetchData=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o.props.onDataFetchStarted(o.props.partition),e.next=4,o.loader.Load(fn);case 4:return e.prev=4,o.props.onDataFetchCompleted(),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})));return function(t){return e.apply(this,arguments)}}(),this.preloadMessages=function(){var e=Object(f.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.updateSearch();case 2:if(!t.Aborted){e.next=4;break}return e.abrupt("return");case 4:return o.props.url.Subscribe(o.onUrlChanged),r=1e4,o.state.limit&&o.state.limit>100&&(r=2e4),e.next=9,o.fetchMessages(r,t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onFetchMessagesClicked=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchData(o.loadMessages);case 2:case"end":return e.stop()}}),e)}))),this.loadMessages=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetchMessages(2e4,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onUrlChanged=function(e){o.updateSearch()},this.getOffsetForTime=function(){var e=Object(f.a)(p.a.mark((function e(t,r,n,a){var s,c,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Date(n).getTime(),e.next=3,a.Fetch("/api/offsets/".concat(t,"/").concat(i));case 3:if(u=e.sent,!a.Aborted){e.next=6;break}return e.abrupt("return",void 0);case 6:if(!u.error){e.next=9;break}return o.props.onError(u.error),e.abrupt("return",void 0);case 9:return l=parseInt(null!==(s=null===(c=u.find((function(e){return e.partition===r})))||void 0===c?void 0:c.offset)&&void 0!==s?s:"0"),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),this.getSelectedPartitions=function(){var e=Object(f.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.props.partition===dt){e.next=2;break}return e.abrupt("return",[parseInt(o.props.partition)]);case 2:return e.next=4,o.getAllPartitionsForTopic(t,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.getAllPartitionsForTopic=function(){var e=Object(f.a)(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Fetch("/api/topic/".concat(t,"/offsets"));case 2:if(n=e.sent,!r.Aborted){e.next=5;break}return e.abrupt("return",[]);case 5:if(!n.error){e.next=8;break}return o.props.onError(n.error),e.abrupt("return",[]);case 8:return e.abrupt("return",n.offsets.map((function(e){return e.partition})));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.fetchOldest=function(){var e=Object(f.a)(p.a.mark((function e(t,r){var n,a,s,c,i,u,l,h,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,a=Object(Q.a)(o.props.topics),e.prev=2,a.s();case 4:if((s=a.n()).done){e.next=36;break}return c=s.value,e.next=8,o.getSelectedPartitions(c,r);case 8:i=e.sent,u=Object(Q.a)(i),e.prev=10,u.s();case 12:if((l=u.n()).done){e.next=26;break}return h=l.value,e.next=16,o.getPartitionOffsets(c,h,r);case 16:if(void 0!==(f=e.sent)){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,o.setStateAsync({offset:parseInt(f.low)});case 21:return e.next=23,o.fetchMessagesForPartition(c,t,h,n,r);case 23:n=e.sent;case 24:e.next=12;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(10),u.e(e.t0);case 31:return e.prev=31,u.f(),e.finish(31);case 34:e.next=4;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(2),a.e(e.t1);case 41:return e.prev=41,a.f(),e.finish(41);case 44:case"end":return e.stop()}}),e,null,[[2,38,41,44],[10,28,31,34]])})));return function(t,r){return e.apply(this,arguments)}}(),this.fetchNewest=function(){var e=Object(f.a)(p.a.mark((function e(t,r){var n,a,s,c,i,u,l,h,f,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==o.state.limit){e.next=2;break}return e.abrupt("return");case 2:n=null,a=Object(Q.a)(o.props.topics),e.prev=4,a.s();case 6:if((s=a.n()).done){e.next=40;break}return c=s.value,e.next=10,o.getSelectedPartitions(c,r);case 10:i=e.sent,u=Object(Q.a)(i),e.prev=12,u.s();case 14:if((l=u.n()).done){e.next=30;break}return h=l.value,e.next=18,o.getPartitionOffsets(c,h,r);case 18:if(void 0!==(f=e.sent)){e.next=21;break}return e.abrupt("return");case 21:return(d=parseInt(f.high)-o.state.limit)<parseInt(f.low)&&(d=parseInt(f.low)),e.next=25,o.setStateAsync({offset:d});case 25:return e.next=27,o.fetchMessagesForPartition(c,t,h,n,r);case 27:n=e.sent;case 28:e.next=14;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(12),u.e(e.t0);case 35:return e.prev=35,u.f(),e.finish(35);case 38:e.next=6;break;case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(4),a.e(e.t1);case 45:return e.prev=45,a.f(),e.finish(45);case 48:case"end":return e.stop()}}),e,null,[[4,42,45,48],[12,32,35,38]])})));return function(t,r){return e.apply(this,arguments)}}(),this.getPartitionOffsets=function(){var e=Object(f.a)(p.a.mark((function e(t,r,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.Fetch("/api/topic/".concat(t,"/offsets"));case 2:if(a=e.sent,!n.Aborted){e.next=5;break}return e.abrupt("return",void 0);case 5:if(!a.error){e.next=8;break}return o.props.onError(a.error),e.abrupt("return",void 0);case 8:return e.abrupt("return",a.offsets.find((function(e){return e.partition===r})));case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),this.fetchByTime=function(){var e=Object(f.a)(p.a.mark((function e(t,r){var n,a,s,c,i,u,l,h,f,d,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,a=Object(Q.a)(o.props.topics),e.prev=2,a.s();case 4:if((s=a.n()).done){e.next=42;break}return c=s.value,e.next=8,o.getSelectedPartitions(c,r);case 8:i=e.sent,u=Object(Q.a)(i),e.prev=10,u.s();case 12:if((l=u.n()).done){e.next=32;break}return h=l.value,e.next=16,o.getOffsetForTime(c,h,o.state.fromTime,r);case 16:if(void 0!==(f=e.sent)){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,o.getOffsetForTime(c,h,o.state.toTime,r);case 21:if(void 0!==(d=e.sent)){e.next=24;break}return e.abrupt("return");case 24:return b=d-f,e.next=27,o.setStateAsync({offset:f,limit:b});case 27:return e.next=29,o.fetchMessagesForPartition(c,t,h,n,r);case 29:n=e.sent;case 30:e.next=12;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(10),u.e(e.t0);case 37:return e.prev=37,u.f(),e.finish(37);case 40:e.next=4;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(2),a.e(e.t1);case 47:return e.prev=47,a.f(),e.finish(47);case 50:case"end":return e.stop()}}),e,null,[[2,44,47,50],[10,34,37,40]])})));return function(t,r){return e.apply(this,arguments)}}(),this.fetchByOffsets=function(){var e=Object(f.a)(p.a.mark((function e(t,r){var n,a,s,c,i,u,l,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,a=Object(Q.a)(o.props.topics),e.prev=2,a.s();case 4:if((s=a.n()).done){e.next=29;break}return c=s.value,e.next=8,o.getSelectedPartitions(c,r);case 8:i=e.sent,u=Object(Q.a)(i),e.prev=10,u.s();case 12:if((l=u.n()).done){e.next=19;break}return h=l.value,e.next=16,o.fetchMessagesForPartition(c,t,h,n,r);case 16:n=e.sent;case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),u.e(e.t0);case 24:return e.prev=24,u.f(),e.finish(24);case 27:e.next=4;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(2),a.e(e.t1);case 34:return e.prev=34,a.f(),e.finish(34);case 37:case"end":return e.stop()}}),e,null,[[2,31,34,37],[10,21,24,27]])})));return function(t,r){return e.apply(this,arguments)}}(),this.fetchMessages=function(){var e=Object(f.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setState({progress:{min:0,max:0,from:0,to:0,partition:"",topic:""}}),e.t0=o.state.searchBy,e.next="offset"===e.t0?4:"time"===e.t0?7:"oldest"===e.t0?10:"newest"===e.t0?13:16;break;case 4:return e.next=6,o.fetchByOffsets(t,r);case 6:return e.abrupt("break",18);case 7:return e.next=9,o.fetchByTime(t,r);case 9:return e.abrupt("break",18);case 10:return e.next=12,o.fetchOldest(t,r);case 12:return e.abrupt("break",18);case 13:return e.next=15,o.fetchNewest(t,r);case 15:return e.abrupt("break",18);case 16:return o.props.onError("Unsupported search by ".concat(o.state.searchBy)),e.abrupt("break",18);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.fetchMessagesForPartition=function(){var e=Object(f.a)(p.a.mark((function e(t,r,n,a,s){var c,i,u,l,h,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(c=o.state.offset)&&""!==c&&""!==o.state.limit){e.next=3;break}return e.abrupt("return",null);case 3:i=c+o.state.limit,(u=o.state.limit)>1e4&&(u=1e4),c>=i&&o.props.onDataFetched(a),l=c;case 8:if(!(c<i)){e.next=28;break}if(!s.Aborted){e.next=11;break}return e.abrupt("break",28);case 11:return h=Math.min(i,c+u),o.setState({progress:{min:l,max:i,from:c,to:h,partition:o.props.partition===dt?"Partition ".concat(n,": "):"",topic:o.props.topics.length>1?"Topic ".concat(t,", "):""}}),e.next=15,s.Fetch("/api/messages/".concat(t,"/").concat(n,"?limit=").concat(u,"&offset=").concat(c,"&search=").concat(encodeURIComponent(o.state.search),"&search_style=").concat(o.state.searchStyle,"&timeout=").concat(r));case 15:if(f=e.sent,!s.Aborted){e.next=18;break}return e.abrupt("break",28);case 18:if(c+=u,a?f.messages&&(a.messages=[].concat(Object(Je.a)(a.messages),Object(Je.a)(f.messages))):a=f,f.error&&(a.error=f.error),f.hasTimeout&&(a.hasTimeout=f.hasTimeout),o.setState({progress:{min:l,max:i,from:h,to:h,partition:o.props.partition===dt?"Partition ".concat(n,": "):"",topic:o.props.topics.length>1?"Topic ".concat(t,", "):""}}),o.props.onDataFetched(a),!a.error&&!a.hasTimeout){e.next=26;break}return e.abrupt("break",28);case 26:e.next=8;break;case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s){return e.apply(this,arguments)}}(),this.updateUrl=function(){o.props.updateUrl(),o.props.url.Set({name:"search_by",val:o.state.searchBy},{name:"offset",val:"offset"===o.state.searchBy?o.state.offset.toString():""},{name:"limit",val:"time"!==o.state.searchBy?o.state.limit.toString():""},{name:"from_time",val:"time"===o.state.searchBy?o.state.fromTime.toString():""},{name:"to_time",val:"time"===o.state.searchBy?o.state.toTime.toString():""})}}return Object(te.a)(e,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updateUrl(),e.next=3,this.fetchData(this.preloadMessages);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.url.Unsubscribe(this.onUrlChanged),this.loader.Abort()}},{key:"updateSearch",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.url.Get("search")||"",r=this.props.url.Get("search_style")||"",e.next=4,this.setState({search:t,searchStyle:r});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(j.a,{children:[Object(B.jsxs)("div",{style:{flex:1},children:[this.props.scope,Object(B.jsxs)(qe.a,{style:{margin:16,minWidth:120},children:[Object(B.jsx)($e.a,{htmlFor:"search-by-select",children:"Search By"}),Object(B.jsxs)(Ye.a,{value:this.state.searchBy,onChange:function(t){return e.setState({searchBy:t.target.value},e.updateUrl)},inputProps:{name:"searchBy",id:"search-by-select"},children:[Object(B.jsx)(S.a,{value:"offset",children:"Offset"},"search-by-offset"),Object(B.jsx)(S.a,{value:"time",children:"Time"},"search-by-time"),Object(B.jsx)(S.a,{value:"newest",children:"Newest"},"search-by-newest"),Object(B.jsx)(S.a,{value:"oldest",children:"Oldest"},"search-by-oldest")]})]}),"offset"===this.state.searchBy&&Object(B.jsx)(bt,{label:"Offset",value:this.state.offset,onChange:function(t){return e.setState({offset:""===t.target.value?"":parseInt(t.target.value)},e.updateUrl)},onEnter:Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onFetchMessagesClicked();case 2:case"end":return t.stop()}}),t)})))}),"time"!==this.state.searchBy&&Object(B.jsx)(bt,{label:"Limit",value:this.state.limit,onChange:function(t){return e.setState({limit:""===t.target.value?"":parseInt(t.target.value)},e.updateUrl)},onEnter:Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onFetchMessagesClicked();case 2:case"end":return t.stop()}}),t)})))}),"time"===this.state.searchBy&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(mt,{label:"From",value:this.state.fromTime,onChange:function(t){return e.setState({fromTime:t.target.value},e.updateUrl)},onEnter:Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onFetchMessagesClicked();case 2:case"end":return t.stop()}}),t)})))}),Object(B.jsx)(mt,{label:"To",value:this.state.toTime,onChange:function(t){return e.setState({toTime:t.target.value},e.updateUrl)},onEnter:Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onFetchMessagesClicked();case 2:case"end":return t.stop()}}),t)})))})]})]}),Object(B.jsx)(ft,{onRun:this.onFetchMessagesClicked,onCancel:function(){return e.loader.Abort()},isRunning:this.props.loadingMessages})]}),Object(B.jsx)(De,{error:this.props.error,prefix:this.props.errorPrefix}),this.renderProgress()]})}},{key:"normalizeProgress",value:function(e){return 100*(e-this.state.progress.min)/(this.state.progress.max-this.state.progress.min)}},{key:"renderProgress",value:function(){return Object(B.jsx)(Qe.a,{in:this.props.loadingMessages&&0!==this.state.progress.max,style:{transitionDelay:this.props.loadingMessages&&0!==this.state.progress.max?"1500ms":"0ms"},unmountOnExit:!0,children:Object(B.jsxs)(je.a,{alignItems:"center",style:{float:"right",paddingRight:15,width:"40%"},children:[Object(B.jsx)(je.a,{minWidth:35,style:{padding:10},children:Object(B.jsx)(v.a,{variant:"body2",color:"textSecondary",align:"center",children:"".concat(this.state.progress.topic).concat(this.state.progress.partition,"Loading offset ").concat(this.state.progress.from," (").concat(Math.round(this.normalizeProgress(this.state.progress.from)),"%)")})}),Object(B.jsx)(je.a,{width:"100%",mr:1,children:Object(B.jsx)(Ze.a,{variant:"buffer",value:this.normalizeProgress(this.state.progress.from),valueBuffer:this.normalizeProgress(this.state.progress.to)})})]})})}}]),e}(),gt=function(){function e(){var t=this;Object(ee.a)(this,e),this.state={offset:0,partitions:[],loadingMessages:!1,loadingPartitions:!0,partition:this.props.partition||"0",error:""},this.getInitialOffset=function(){var e=Object(f.a)(p.a.mark((function e(r,n){var a,s,o,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.props.offset){e.next=2;break}return e.abrupt("return",t.props.offset);case 2:if(void 0!==r&&r!==dt){e.next=4;break}return e.abrupt("return",void 0);case 4:return s=n.offsets[parseInt(r)],o=parseInt(s.high),c=parseInt(s.low),(i=o-(null!==(a=t.props.limit)&&void 0!==a?a:5))<c&&(i=c),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.updateUrl=function(){t.props.url.BaseUrl="/topic/messages/".concat(t.props.topic,"/").concat(t.state.partition)}}return Object(te.a)(e,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchPartitions();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPartitions",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,r,n,a,s,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/topic/".concat(this.props.topic,"/offsets"));case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(r=e.sent).error){e.next=9;break}return this.setState({loadingPartitions:!1,error:r.error}),e.abrupt("return");case 9:return n=r.offsets.map((function(e){var t="0"===e.high.toString();return{label:t?"Partition: ".concat(e.partition," (Empty)"):"Partition: ".concat(e.partition," (Low- ").concat(e.low,", High- ").concat(e.high,", Current- ").concat(e.offset,")"),value:e.partition.toString(),isEmpty:t}})),a={loadingPartitions:!1,partitions:[{label:"All Partitions",value:dt,isEmpty:!0}].concat(Object(Je.a)(n)),offset:this.state.offset,partition:this.state.partition,loadingMessages:this.state.loadingMessages},void 0===this.props.partition&&(s=n.find((function(e){return!e.isEmpty})))&&(a.partition=s.value),o=a.partition||this.props.partition,e.next=15,this.getInitialOffset(o,r);case 15:void 0!==(c=e.sent)&&(a.offset=c),this.setState(a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;if(this.state.loadingPartitions)return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]});var r=this.state.partitions.map((function(e){return Object(B.jsx)(S.a,{value:e.value,children:e.label},e.label)}));return Object(B.jsx)(B.Fragment,{children:!this.state.loadingPartitions&&Object(B.jsx)(jt,{url:this.props.url,updateUrl:this.updateUrl,onError:function(e){return t.setState({error:e})},scope:Object(B.jsxs)(qe.a,{style:{margin:16,minWidth:120},children:[Object(B.jsx)($e.a,{htmlFor:"partition-select",children:"Partition"}),Object(B.jsx)(Ye.a,{value:this.state.partition,onChange:function(e){return t.setState({partition:e.target.value},(function(){t.updateUrl(),t.props.url.Refresh()}))},inputProps:{name:"partition",id:"partition-select"},children:r})]}),topics:[this.props.topic],partition:this.state.partition,offset:this.state.offset,limit:this.props.limit,fromTime:this.props.fromTime,toTime:this.props.toTime,searchBy:this.props.searchBy,onDataFetched:this.props.onDataFetched,onDataFetchStarted:function(){t.setState({loadingMessages:!0}),t.props.onDataFetchStarted(t.state.partition)},onDataFetchCompleted:function(){return t.setState({loadingMessages:!1})},loadingMessages:this.state.loadingMessages,error:null!==(e=this.state.error)&&void 0!==e?e:"",errorPrefix:"Error while loading messages: "})})}}]),e}(),vt=r(1028),xt=r(1023),Ot=(r(144),function(){function e(){var t,r,n=this;Object(ee.a)(this,e),this.state={topics:[],selectedTopics:null!==(t=null===(r=this.props.selectedTopics)||void 0===r?void 0:r.split(","))&&void 0!==t?t:[],loadingMessages:!1,loadingTopics:!0,error:""},this.updateUrl=function(){n.props.url.BaseUrl="/topics/messages/".concat(n.state.selectedTopics.join(","))}}return Object(te.a)(e,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTopics();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchTopics",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/topics");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(r=e.sent).error){e.next=9;break}return this.setState({loadingTopics:!1,error:r.error}),e.abrupt("return");case 9:n=r.topics.map((function(e){return e.name})),this.setState({topics:n,loadingTopics:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;if(this.state.loadingTopics)return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]});var r=this.state.topics.map((function(e){return Object(B.jsxs)(S.a,{value:e,children:[Object(B.jsx)(vt.a,{checked:t.state.selectedTopics.indexOf(e)>-1}),Object(B.jsx)(xt.a,{primary:e})]},e)})),n=this.state.selectedTopics.length===this.state.topics.length;return Object(B.jsx)(B.Fragment,{children:!this.state.loadingTopics&&Object(B.jsx)(jt,{url:this.props.url,updateUrl:this.updateUrl,onError:function(e){return t.setState({error:e})},scope:Object(B.jsxs)(qe.a,{style:{margin:16,minWidth:120},children:[Object(B.jsx)($e.a,{htmlFor:"topics-select",children:"Topics"}),Object(B.jsxs)(Ye.a,{value:this.state.selectedTopics,multiple:!0,renderValue:function(e){return e.length>2?"".concat(e.length," topics"):e.join(", ")},onChange:function(e){var r=e.target.value;r&&r.includes("SelectAll")&&(r=n?[]:t.state.topics),t.setState({selectedTopics:r},(function(){t.updateUrl(),t.props.url.Refresh()}))},inputProps:{name:"topics",id:"topics-select"},children:[Object(B.jsxs)(S.a,{value:"SelectAll",children:[Object(B.jsx)(vt.a,{checked:n}),Object(B.jsx)(xt.a,{primary:n?"Select none":"Select all"})]},"select all topics"),r]})]}),topics:this.state.selectedTopics,partition:dt,limit:this.props.limit,fromTime:this.props.fromTime,toTime:this.props.toTime,searchBy:this.props.searchBy,onDataFetched:this.props.onDataFetched,onDataFetchStarted:function(){t.setState({loadingMessages:!0}),t.props.onDataFetchStarted(dt)},onDataFetchCompleted:function(){return t.setState({loadingMessages:!1})},loadingMessages:this.state.loadingMessages,error:null!==(e=this.state.error)&&void 0!==e?e:"",errorPrefix:"Error while loading messages: "})})}}]),e}()),kt=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={rows:[],customCols:{cols:{}},error:"",warning:"",partition:n.props.match.params.partition},n.api=null,n.columnApi=null,n.getRow=function(e,t){var r={rowTimestamp:e.message.timestamp,rowOffset:parseInt(e.message.offset),rowValue:e.value,rowType:e.schemaType?e.schemaType.name:"",rowKey:e.key,rowTopic:e.topic,rowPartition:e.partition},n={},a=e.value;try{a=n=JSON.parse(e.value)}catch(c){console.warn("row value is not json encoded, error: ".concat(c,", value: ").concat(e.value))}var s={};for(var o in r)"rowValue"!==o?o.startsWith("row")&&(s[o.substring(3)]=r[o]):s.Value=a;return(r=Object(l.a)(Object(l.a)({},r),n)).rowJson=s,t.cols=Object(l.a)(Object(l.a)({},t.cols),n),r},n.onGridReady=function(e){n.api=e.api,n.columnApi=e.columnApi},n.onFilterChanged=function(e){if(n.columnApi){var t,r=n.getNonEmptyColumns(),a=Object(Q.a)(n.columnApi.getAllColumns());try{for(a.s();!(t=a.n()).done;){var s=t.value,o=s.getColDef().field;if(!o.startsWith("row")){var c=o.indexOf(".");c>=1&&(o=o.substring(0,c)),r[o]?n.columnApi.setColumnVisible(s,!0):n.columnApi.setColumnVisible(s,!1)}}}catch(i){a.e(i)}finally{a.f()}}},n.getColumnDefs=function(){var e=[{headerName:"Timestamp",field:"rowTimestamp",valueFormatter:n.timeFormatter},{headerName:"Offset",field:"rowOffset",filter:"agNumberColumnFilter"},{headerName:"Type",field:"rowType"}];return void 0===n.props.match.params.topic&&e.push({headerName:"Topic",field:"rowTopic"}),n.state.partition===dt&&e.push({headerName:"Partition",field:"rowPartition"}),n.addCustomColumns(e,n.state.customCols.cols,""),e.push({headerName:"Key",field:"rowKey"}),e.push({headerName:"Value",field:"rowValue"}),e},n.addCustomColumns=function(e,t,r){for(var a in t){var s=t[a];if("object"===typeof s)n.addCustomColumns(e,s,"".concat(r).concat(a,"."));else{var o="".concat(r).concat(a);e.push({headerName:o,field:o})}}},n.getNonEmptyColumns=function(){if(n.api){var e=n.api.getFilterModel();if(0!==Object.keys(e).length){var t={};return n.api.forEachNodeAfterFilter((function(e,r){for(var n in e.data)e.data[n]&&(t[n]=!0)})),t}}},n.onDataFetchStarted=function(e){n.setState({error:"",warning:"",partition:e})},n.onDataFetched=function(e){if(console.log(e),e)if(e.error)n.setState({error:e.error});else{var t={cols:{}},r=e.messages.map((function(e){return n.getRow(e,t)})),a="";e.hasTimeout&&(a=void 0===n.props.match.params.topic?"Some messages may (or may not) be missing as one or more topics timed out":"Some messages may (or may not) be missing as the topic timed out"),n.setState({rows:r,customCols:t,warning:a})}},n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"timeFormatter",value:function(e){var t=new Date(parseFloat(e.value)),r=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),a=t.getFullYear().toString().padStart(4,"0"),s=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0"),c=t.getSeconds().toString().padStart(2,"0"),i=t.getMilliseconds().toString().padStart(3,"0");return"".concat(r,"/").concat(n,"/").concat(a," ").concat(s,":").concat(o,":").concat(c,".").concat(i)}},{key:"render",value:function(){var e,t,r,n,a=void 0===this.props.match.params.topic?"Cross-Topic search":"Messages for topic: ".concat(this.props.match.params.topic),s=this.url.Get("offset");return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:a,url:this.url}),Object(B.jsx)("br",{}),void 0===this.props.match.params.topic?Object(B.jsx)(Ot,{onDataFetched:this.onDataFetched,onDataFetchStarted:this.onDataFetchStarted,url:this.url,limit:parseInt(null!==(e=this.url.Get("limit"))&&void 0!==e?e:"5"),fromTime:this.url.Get("from_time"),toTime:this.url.Get("to_time"),searchBy:null!==(t=this.url.Get("search_by"))&&void 0!==t?t:"offset",selectedTopics:this.props.match.params.topics}):Object(B.jsx)(gt,{topic:this.props.match.params.topic,partition:this.props.match.params.partition,url:this.url,offset:void 0===s?void 0:parseInt(s),limit:parseInt(null!==(r=this.url.Get("limit"))&&void 0!==r?r:"5"),fromTime:this.url.Get("from_time"),toTime:this.url.Get("to_time"),searchBy:null!==(n=this.url.Get("search_by"))&&void 0!==n?n:"offset",onDataFetched:this.onDataFetched,onDataFetchStarted:this.onDataFetchStarted}),this.state.warning&&Object(B.jsx)(Ae.a,{severity:"warning",children:this.state.warning}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch data. Error: "}),Object(B.jsx)(Se,{search:function(e){return"".concat(e.rowValue,",").concat(e.rowKey,",").concat(e.rowType)},rows:this.state.rows,raw:this.state.rows.map((function(e){return e.rowJson})),url:this.url,columnDefs:this.getColumnDefs(),onGridReady:this.onGridReady,onFilterChanged:this.onFilterChanged})]})}}]),r}(a.a.Component),yt=function(e){return Object(B.jsx)(M.a,{rel:"noopener noreferrer",color:"primary",target:"_blank",href:"https://docs.confluent.io/current/installation/configuration/topic-configs.html#".concat(e.data.configName),children:e.data.configName})},wt=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,rows:[],data:void 0,error:""},n.loader=new Ie,n.fetchConfigs=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/topic/".concat(n.props.match.params.topic,"/config"));case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error}),e.abrupt("return");case 8:a=r.resources[0].configEntries,n.setState({data:r,loading:!1,rows:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchConfigs);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"getColumnDefs",value:function(){return[{headerName:"Name",field:"configName",cellRendererFramework:yt},{headerName:"Value",field:"configValue"},{headerName:"Readonly",field:"readOnly"},{headerName:"Is Default",field:"isDefault"},{headerName:"Is Sensitive",field:"isSensitive"}]}},{key:"render",value:function(){var e,t;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Configs for topic: ".concat(this.props.match.params.topic),url:this.url}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch configs. Error: "}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return e.configName},rows:this.state.rows,raw:null!==(e=null===(t=this.state.data)||void 0===t?void 0:t.resources)&&void 0!==e?e:[],url:this.url,columnDefs:this.getColumnDefs()})]})}}]),r}(a.a.Component),Ct=r(1029),St=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(){return Object(ee.a)(this,r),t.apply(this,arguments)}return Object(te.a)(r,[{key:"render",value:function(){var e=this.props.data.offset;return-1===e&&(e=0),Object(B.jsx)(je.a,{minWidth:150,paddingTop:1,paddingX:3,children:Object(B.jsx)(Ct.a,{value:e,"aria-labelledby":"fake",valueLabelDisplay:"off",step:1,min:this.props.data.low,max:this.props.data.high})})}}]),r}(a.a.Component),Ft=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,rows:[],data:[],error:""},n.loader=new Ie,n.fetchGroups=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a,s,o,c,i,u,l,h,f,d,b,m,j,g;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/topic/".concat(n.props.match.params.topic,"/consumer_groups"));case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error}),e.abrupt("return");case 8:a=[],s=Object(Q.a)(r);try{for(s.s();!(o=s.n()).done;){c=o.value,i=Object(Q.a)(c.offsets);try{for(i.s();!(u=i.n()).done;)b=u.value,m=parseInt(null!==(l=null===(h=b.partitionOffsets)||void 0===h?void 0:h.high)&&void 0!==l?l:"-1"),j=parseInt(b.offset),g=m-j,-1===j&&(g-=1),a.push({name:c.groupId,partition:b.partition,offset:j,high:m,low:parseInt(null!==(f=null===(d=b.partitionOffsets)||void 0===d?void 0:d.low)&&void 0!==f?f:"-1"),lag:g})}catch(p){i.e(p)}finally{i.f()}}}catch(p){s.e(p)}finally{s.f()}n.setState({data:r,loading:!1,rows:a});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchGroups);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"getColumnDefs",value:function(){return[{headerName:"Name",field:"name"},{headerName:"Partition",field:"partition",filter:"agNumberColumnFilter"},{headerName:"Progress",cellRendererFramework:St},{headerName:"Offset",field:"offset",filter:"agNumberColumnFilter"},{headerName:"Low",field:"low",filter:"agNumberColumnFilter"},{headerName:"High",field:"high",filter:"agNumberColumnFilter"},{headerName:"Lag",field:"lag",filter:"agNumberColumnFilter"}]}},{key:"render",value:function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Consumer groups for topic: ".concat(this.props.match.params.topic),url:this.url}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch consumer groups. Error: "}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return e.name},rows:this.state.rows,raw:this.state.data,url:this.url,columnDefs:this.getColumnDefs()})]})}}]),r}(a.a.Component),Tt=function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,[{key:"render",value:function(){var e=this;return Object(B.jsx)(ze,{getUrl:function(){return"/broker/configs/".concat(e.props.data.nodeId)},data:this.props.data,value:"View"})}}]),e}(),Nt=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,rows:[],error:""},n.loader=new Ie,n.fetchBrokers=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/cluster");case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error}),e.abrupt("return");case 8:a=r.brokers.map((function(e){return Object(l.a)({history:n.props.history},e)})),n.setState({loading:!1,rows:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchBrokers);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"getColumnDefs",value:function(){return[{headerName:"Node ID",field:"nodeId",filter:"agNumberColumnFilter"},{headerName:"Host",field:"host"},{headerName:"Port",field:"port",filter:"agNumberColumnFilter"},{headerName:"Configs",field:"view_configs",cellRendererFramework:Tt}]}},{key:"render",value:function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Brokers",url:this.url}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch brokers. Error: "}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return e.host},rows:this.state.rows,raw:this.state.rows,url:this.url,columnDefs:this.getColumnDefs()})]})}}]),r}(a.a.Component),At=function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,[{key:"render",value:function(){var e=this;return Object(B.jsx)(ze,Object(l.a)({getUrl:function(){return"/members/".concat(e.props.data.groupId)}},this.props))}}]),e}(),Dt=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,rows:[],error:""},n.loader=new Ie,n.fetchGroups=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/groups");case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error}),e.abrupt("return");case 8:a=r.groups.map((function(e){return Object(l.a)({numMembers:e.members.length,raw:e,history:n.props.history},e)})),n.setState({loading:!1,rows:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchGroups);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"getColumnDefs",value:function(){return[{headerName:"Group ID",field:"groupId"},{headerName:"Protocol",field:"protocol"},{headerName:"Protocol Type",field:"protocolType"},{headerName:"State",field:"state"},{headerName:"#Members",field:"numMembers",filter:"agNumberColumnFilter",cellRendererFramework:At}]}},{key:"render",value:function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Groups",url:this.url}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch groups. Error: "}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return"".concat(e.groupId,",").concat(e.protocol,",").concat(e.protocolType)},rows:this.state.rows,raw:this.state.rows.map((function(e){return e.raw})),url:this.url,columnDefs:this.getColumnDefs()})]})}}]),r}(a.a.Component),It=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,rows:[],error:""},n.loader=new Ie,n.fetchMembers=function(){var e=Object(f.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/members/".concat(n.props.match.params.group));case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error}),e.abrupt("return");case 8:n.setState({loading:!1,rows:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchMembers);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"getColumnDefs",value:function(){return[{headerName:"Member ID",field:"memberId"},{headerName:"Client ID",field:"clientId"},{headerName:"Client Host",field:"clientHost"}]}},{key:"render",value:function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Members for group: ".concat(this.props.match.params.group),url:this.url}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch members. Error: "}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return"".concat(e.memberId,",").concat(e.clientId,",").concat(e.clientHost)},rows:this.state.rows,raw:this.state.rows,url:this.url,columnDefs:this.getColumnDefs()})]})}}]),r}(a.a.Component),Rt=function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,[{key:"render",value:function(){var e=this;return Object(B.jsx)(ze,Object(l.a)({getUrl:function(){return"/schema-registry/versions/".concat(e.props.data.subject)}},this.props))}}]),e}(),Gt=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,rows:[],error:"",errorPrefix:""},n.gridApi=null,n.columnApi=null,n.loader=new Ie,n.onGridReady=function(e){n.gridApi=e.api,n.columnApi=e.columnApi},n.fetchSubjects=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a,s,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/schema-registry/subjects");case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error,errorPrefix:"Failed to fetch subjects. Error: "}),e.abrupt("return");case 8:a=r.map((function(e){return{subject:e,history:n.props.history}})),n.setState({loading:!1,rows:a}),s=Object(Q.a)(a),e.prev=11,s.s();case 13:if((o=s.n()).done){e.next=21;break}return c=o.value,e.next=17,n.fetchSubject(c,t);case 17:if(!t.Aborted){e.next=19;break}return e.abrupt("return");case 19:e.next=13;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),s.e(e.t0);case 26:return e.prev=26,s.f(),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[11,23,26,29]])})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchSubjects);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"fetchSubject",value:function(){var e=Object(f.a)(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Fetch("/api/schema-registry/versions/".concat(t.subject));case 2:if(n=e.sent,!r.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!n.error){e.next=8;break}return this.setState({loading:!1,error:n.error,errorPrefix:"Failed to fetch subject ".concat(t.subject,". Error: ")}),e.abrupt("return");case 8:t.num_versions=n.length,t.versions=n,this.gridApi&&this.gridApi.refreshCells(),this.forceUpdate();case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getColumnDefs",value:function(){return[{headerName:"Subject",field:"subject"},{headerName:"#Versions",field:"num_versions",filter:"agNumberColumnFilter",cellRendererFramework:Rt}]}},{key:"render",value:function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Subjects",url:this.url}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:this.state.errorPrefix}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return e.subject},rows:this.state.rows,raw:this.state.rows.map((function(e){return{subject:e.subject,versions:e.versions}})),url:this.url,columnDefs:this.getColumnDefs(),onGridReady:this.onGridReady})]})}}]),r}(a.a.Component),Mt=(r(443),function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,rows:[],customCols:{cols:{}},error:"",errorPrefix:""},n.gridApi=null,n.columnApi=null,n.loader=new Ie,n.onGridReady=function(e){n.gridApi=e.api,n.columnApi=e.columnApi},n.fetchVersions=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a,s,o,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/schema-registry/versions/".concat(n.props.match.params.subject));case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error,errorPrefix:"Failed to fetch versions. Error: "}),e.abrupt("return");case 8:a=r.map((function(e){return{version:e}})),n.setState({loading:!1,rows:a}),s={cols:{}},o=Object(Q.a)(a),e.prev=12,o.s();case 14:if((c=o.n()).done){e.next=22;break}return i=c.value,e.next=18,n.fetchSchema(i,s,t);case 18:if(!t.Aborted){e.next=20;break}return e.abrupt("return");case 20:e.next=14;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(12),o.e(e.t0);case 27:return e.prev=27,o.f(),e.finish(27);case 30:n.setState({customCols:s});case 31:case"end":return e.stop()}}),e,null,[[12,24,27,30]])})));return function(t){return e.apply(this,arguments)}}(),n.addToRow=function(e,t,r,a){if(void 0!==t.fields){var s,o=Object(Q.a)(t.fields);try{for(o.s();!(s=o.n()).done;){var c=s.value,i="".concat(a).concat(c.name),u=c.type;"object"!==typeof u||"record"!==u.type?(e[i]=n.getFieldValue(c),r.cols[i]=e[i]):n.addToRow(e,u,r,"".concat(i,"->"))}}catch(l){o.e(l)}finally{o.f()}}},n.addCustomColumns=function(e,t,r){for(var a in t){var s=t[a];if("object"===typeof s)n.addCustomColumns(e,s,"".concat(r).concat(a,"."));else{var o="".concat(r).concat(a);e.push({headerName:o,field:o})}}},n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchVersions);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"fetchSchema",value:function(){var e=Object(f.a)(p.a.mark((function e(t,r,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.Fetch("/api/schema-registry/schema/".concat(this.props.match.params.subject,"/").concat(t.version));case 2:if(a=e.sent,!n.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!a.error){e.next=8;break}return this.setState({loading:!1,error:a.error,errorPrefix:"Failed to fetch schema for version ".concat(t.version,". Error: ")}),e.abrupt("return");case 8:t.schema=a.schema,t.schemaID=a.id,this.addToRow(t,a.schema,r,""),this.gridApi&&this.gridApi.refreshCells(),this.forceUpdate();case 13:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getFieldValue",value:function(e){if("string"===typeof e.type)return e.type;var t=e.type;if("enum"===t.type){var r=t.symbols.join(", ");return"".concat(t.name," (").concat(r,")")}if(Array.isArray(e.type)){var n=e.type.join(", ");return"union{ ".concat(n," }")}return"Unsupported Type"}},{key:"getColumnDefs",value:function(){var e=[{headerName:"Schema ID",field:"schemaID",filter:"agNumberColumnFilter"},{headerName:"Version",field:"version",filter:"agNumberColumnFilter"},{headerName:"Type",field:"schema.type"},{headerName:"Name",field:"schema.name"},{headerName:"Namespace",field:"schema.namespace"}];return this.addCustomColumns(e,this.state.customCols.cols,""),e}},{key:"render",value:function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Schemas for subject ".concat(this.props.match.params.subject),url:this.url}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:this.state.errorPrefix}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){var t;return JSON.stringify(null!==(t=e.schema)&&void 0!==t?t:"")},rows:this.state.rows,raw:this.state.rows.map((function(e){return{version:e.version,schema:e.schema}})),url:this.url,columnDefs:this.getColumnDefs(),onGridReady:this.onGridReady})]})}}]),r}(a.a.Component)),Pt=(r(955),function(){function e(){Object(ee.a)(this,e)}return Object(te.a)(e,[{key:"render",value:function(){var e=this;return Object(B.jsx)(ze,Object(l.a)({getUrl:function(){return"/kafka-connect/tasks/".concat(e.props.data.name)}},this.props))}}]),e}());function Et(e){var t={};for(var r in e)t[r.split(".").join("->")]=e[r];return t}var Ut=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,customCols:{cols:{}},rows:[],error:""},n.gridApi=null,n.loader=new Ie,n.onGridReady=function(e){n.gridApi=e.api},n.fetchConnectors=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a,s,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/kafka-connect/connectors");case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error}),e.abrupt("return");case 8:a=r.map((function(e){return{name:e,state:"Loading",workerId:"Loading",type:"Loading",history:n.props.history}})),n.setState({loading:!1,rows:a}),s=Object(Q.a)(a),e.prev=11,s.s();case 13:if((o=s.n()).done){e.next=19;break}return c=o.value,e.next=17,n.fetchConnector(c,t);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[11,21,24,27]])})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchConnectors);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"fetchConnector",value:function(){var e=Object(f.a)(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchConnectorStatus(t,r);case 2:if(!r.Aborted){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.fetchConnectorConfig(t,r);case 6:if(!r.Aborted){e.next=8;break}return e.abrupt("return");case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchConnectorStatus",value:function(){var e=Object(f.a)(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Fetch("/api/kafka-connect/connector/".concat(t.name,"/status"));case 2:if(n=e.sent,!r.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!n.error){e.next=8;break}return this.setState({loading:!1,error:n.error}),e.abrupt("return");case 8:t.numTasks=n.tasks.length,t.state=n.connector.state,t.workerId=n.connector.worker_id,t.type=n.type,this.gridApi&&this.gridApi.refreshCells(),this.forceUpdate();case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchConnectorConfig",value:function(){var e=Object(f.a)(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Fetch("/api/kafka-connect/connector/".concat(t.name,"/config"));case 2:if(n=e.sent,!r.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!n.error){e.next=8;break}return this.setState({loading:!1,error:n.error}),e.abrupt("return");case 8:n=Et(n),t.config=n,this.state.customCols.cols=Object(l.a)(Object(l.a)({},this.state.customCols.cols),n),this.refreshGrid();case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"refreshGrid",value:function(){this.gridApi&&this.gridApi.refreshCells({force:!0}),this.forceUpdate()}},{key:"getColumnDefs",value:function(){var e=[{headerName:"Name",field:"name"},{headerName:"State",field:"state",type:"connectorState"},{headerName:"Worker ID",field:"workerId"},{headerName:"Type",field:"type"},{headerName:"#Tasks",field:"numTasks",filter:"agNumberColumnFilter",cellRendererFramework:Pt}];for(var t in this.state.customCols.cols){var r="config.".concat(t),n=t.split("->").join("."),a="config.".concat(n);e.push({headerName:a,field:r})}return e}},{key:"render",value:function(){var e=this;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Connectors",url:this.url,OnThemeChanged:function(t){return e.refreshGrid()}}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch connectors. Error: "}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return"".concat(e.name,",").concat(e.state,",").concat(e.type,",").concat(e.workerId)},rows:this.state.rows,raw:this.state.rows,url:this.url,columnDefs:this.getColumnDefs(),onGridReady:this.onGridReady})]})}}]),r}(a.a.Component),Lt=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,customCols:{cols:{}},rows:[],error:""},n.gridApi=null,n.loader=new Ie,n.onGridReady=function(e){n.gridApi=e.api},n.fetchTasks=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a,s,o,c,i,u,h,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/kafka-connect/connector/".concat(n.props.match.params.connector,"/tasks"));case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error}),e.abrupt("return");case 8:a=[],s=Object(Q.a)(r);try{for(s.s();!(o=s.n()).done;)c=o.value,i=Et(c.config),a.push({id:c.id.task,state:"Loading",workerId:"Loading",config:i}),n.state.customCols.cols=Object(l.a)(Object(l.a)({},n.state.customCols.cols),i)}catch(p){s.e(p)}finally{s.f()}n.setState({loading:!1,rows:a}),u=0,h=a;case 13:if(!(u<h.length)){e.next=22;break}return f=h[u],e.next=17,n.fetchTaskStatus(f,t);case 17:if(!t.Aborted){e.next=19;break}return e.abrupt("return");case 19:u++,e.next=13;break;case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchTasks);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"fetchTaskStatus",value:function(){var e=Object(f.a)(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Fetch("/api/kafka-connect/connector/".concat(this.props.match.params.connector,"/tasks/").concat(t.id,"/status"));case 2:if(n=e.sent,!r.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!n.error){e.next=8;break}return this.setState({loading:!1,error:n.error}),e.abrupt("return");case 8:t.state=n.state,t.workerId=n.worker_id,this.refreshGrid();case 11:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"refreshGrid",value:function(){this.gridApi&&this.gridApi.refreshCells(),this.forceUpdate()}},{key:"getColumnDefs",value:function(){var e=[{headerName:"ID",field:"id"},{headerName:"State",field:"state",type:"connectorState"},{headerName:"Worker ID",field:"workerId"}];for(var t in this.state.customCols.cols){var r="config.".concat(t),n=t.split("->").join("."),a="config.".concat(n);e.push({headerName:a,field:r})}return e}},{key:"render",value:function(){var e=this;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Tasks for connector: ".concat(this.props.match.params.connector),url:this.url,OnThemeChanged:function(t){return e.refreshGrid()}}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch tasks. Error: "}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return"".concat(e.state,",").concat(e.workerId)},rows:this.state.rows,raw:this.state.rows,url:this.url,columnDefs:this.getColumnDefs(),onGridReady:this.onGridReady})]})}}]),r}(a.a.Component),Bt=function(e){return Object(B.jsx)(M.a,{rel:"noopener noreferrer",color:"primary",target:"_blank",href:"https://docs.confluent.io/current/installation/configuration/broker-configs.html#".concat(e.data.configName),children:e.data.configName})},_t=function(e){Object(We.a)(r,e);var t=Object(Ve.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={loading:!0,rows:[],data:void 0,error:""},n.loader=new Ie,n.fetchConfigs=function(){var e=Object(f.a)(p.a.mark((function e(t){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Fetch("/api/broker/".concat(n.props.match.params.broker,"/config"));case 2:if(r=e.sent,!t.Aborted){e.next=5;break}return e.abrupt("return");case 5:if(!r.error){e.next=8;break}return n.setState({loading:!1,error:r.error}),e.abrupt("return");case 8:a=r.resources[0].configEntries,n.setState({data:r,loading:!1,rows:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.url=new ae(e.location.search,""),n}return Object(te.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.Load(this.fetchConfigs);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.loader.Abort()}},{key:"getColumnDefs",value:function(){return[{headerName:"Name",field:"configName",cellRendererFramework:Bt},{headerName:"Value",field:"configValue"},{headerName:"Readonly",field:"readOnly"},{headerName:"Is Default",field:"isDefault"},{headerName:"Is Sensitive",field:"isSensitive"}]}},{key:"render",value:function(){var e,t;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(he,{title:"Configs for broker: ".concat(this.props.match.params.broker),url:this.url}),this.state.loading&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(d.a,{}),Object(B.jsx)("div",{children:"Loading..."})]}),Object(B.jsx)(De,{error:this.state.error,prefix:"Failed to fetch configs. Error: "}),!this.state.loading&&Object(B.jsx)(Se,{search:function(e){return e.configName},rows:this.state.rows,raw:null!==(e=null===(t=this.state.data)||void 0===t?void 0:t.resources)&&void 0!==e?e:[],url:this.url,columnDefs:this.getColumnDefs()})]})}}]),r}(a.a.Component),Wt=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),r=t[0],a=t[1];return Object(B.jsx)(W,{children:Object(B.jsx)(Ge.Provider,{value:{gridTopic:r,gridUpdate:function(e){var t=e.newTopic;a(t)}},children:Object(B.jsx)(i.a,{children:Object(B.jsxs)("div",{children:[Object(B.jsx)(u.a,{path:"/",exact:!0,component:Me}),Object(B.jsxs)(u.a,{path:"/topic/:topic",children:[" ",Object(B.jsx)(Be,{})," "]}),Object(B.jsxs)(u.a,{path:"/schema/:schema",children:[" ",Object(B.jsx)(_e,{})," "]}),Object(B.jsx)(u.a,{path:"/topic/partitions/:topic",exact:!0,component:Ke}),Object(B.jsx)(u.a,{path:"/topic/configs/:topic",exact:!0,component:wt}),Object(B.jsx)(u.a,{path:"/topic/consumer_groups/:topic",exact:!0,component:Ft}),Object(B.jsx)(u.a,{path:"/topic/messages/:topic/:partition",component:kt}),Object(B.jsx)(u.a,{path:"/topic/messages/:topic",exact:!0,component:kt}),Object(B.jsx)(u.a,{path:"/topics/messages/:topics",exact:!0,component:kt}),Object(B.jsx)(u.a,{path:"/topics/messages",exact:!0,component:kt}),Object(B.jsx)(u.a,{path:"/brokers",exact:!0,component:Nt}),Object(B.jsx)(u.a,{path:"/broker/configs/:broker",exact:!0,component:_t}),Object(B.jsx)(u.a,{path:"/groups",exact:!0,component:Dt}),Object(B.jsx)(u.a,{path:"/members/:group",exact:!0,component:It}),Object(B.jsx)(u.a,{path:"/schema-registry/subjects",exact:!0,component:Gt}),Object(B.jsx)(u.a,{path:"/schema-registry/versions/:subject",exact:!0,component:Mt}),Object(B.jsx)(u.a,{path:"/kafka-connect/connectors",exact:!0,component:Ut}),Object(B.jsx)(u.a,{path:"/kafka-connect/tasks/:connector",exact:!0,component:Lt})]})})})})};r(956);o.a.render(Object(B.jsx)(Wt,{}),document.getElementById("root"))}},[[957,1,2]]]);
//# sourceMappingURL=main.461a1a0a.chunk.js.map